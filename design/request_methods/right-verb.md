# Right Verb

---

在 HTTP 之中，共定義了一系列的請求方法，是以不同方式操作指定資源的動作，

而在 RESTful API 之中，需要使用這些動作，來表示如何對這些資源進行操作。

一般而言，對資源的操作行為大多是新增、查詢、修改、刪除這四種，

然而，這些定義於 HTTP 的動作，操作方式個個不同，

因此，在什麼情況下應該使用哪個動作將會是個重點，而這通常會由這些動作本身在 HTTP 中的定義來決定的。

各項動作及其在 HTTP 中的定義如下表所示：

| 動作類型 | 定義 |
| --- | --- |
| POST | 請求服務端接受傳送過去的請求內容，並以該請求內容為實體，新增新的子資源到 URI 所對應到的特定資源 |
| GET | 請求特定資源的表現形式 |
| PUT | 請求服務端接受傳送過去的請求內容，並以該請求內容為實體，要求將該實體存儲在客戶端請求的 URI 之下 |
| DELETE | 刪除特定資源 |

從上述定義，可以歸納以下幾個重點：

* GET 與 DELETE 用於對特定資源的讀取及刪除，

  針對該資源的 URI 發送 GET 或 DELETE 的請求，以進行讀取該資源的表現形式或刪除該資源的操作行為。


* POST 與 PUT 都可用於新增資源，在考量應該用 POST 還是 PUT 來新增資源時，

  可以從以下幾個方面切入思考：

  1. 資源的識別號碼是如何產生的：
    如果在建立資源時，服務端需要客戶端指定資源的識別碼，才能建立資源，就應該使用 PUT 。
    反之，如果資源的識別碼是由服務端產生，不是由客戶端指定，應該使用 POST 。
  2. PUT 所具備的等冪性是否對系統設計有所幫助：
    由於在同一個 URI 上發送兩次 PUT 的請求所得到的結果相同。
    因此客戶端在沒有接到服務端的回應時可以放心地重複發送該請求。這在網路丟包較為嚴重時是一個非常好的功能。
    反過來，在同一個 URI 上發送兩次 POST 的請求將可能建立兩個獨立的子資源。
  3. 將資源的建立和更新合併為一個 API，這樣做的必需性：
    讓資源的建立和更新合併為一個 API，可以簡化客戶端對 API 的使用，也簡化了 RESTful API 所提供的介面；但是反過來也讓一個 API 執行了兩種不同的任務，在一定程度上違反了API 設計時每個 API 都需要有明確的意義這一原則。


